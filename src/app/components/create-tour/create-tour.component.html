<h1>Create your route:</h1>

<div class="pipe-step">
  <h2>Set tags which fits to theme of the route</h2>
  <app-tag-select></app-tag-select>
</div>

<div class="pipe-step">
  <div class="pipe-columns">
    <div class="pipe-column">
      <h2><label for="">Number of people on the tour</label></h2>
      <input #peopleNumber
             onlyNumber
             type="text">
    </div>
  </div>
</div>

<div class="pipe-step">
  <h2>Select geo locations on your tour</h2>

  <div data-content="steps-map-pipe">
    <ul>
      <li *ngFor="let step of steps; let i = index;">
        <app-tour-step [step]="step"
                       [stepLength]="steps.length"
                       [stepIndex]="i"
                       [showValidation$]="showValidation$"
                       (stepRemoved)="removeStep(i)"></app-tour-step>
      </li>
      <li data-content="add-step"><button class="action" (click)="addStep()">Add new step</button></li>
    </ul>

    <div data-content="map">
      <agm-map [latitude]="lastLat" [longitude]="lastLng" [zoom]="16">
        <agm-marker *ngFor="let step of steps"
                    [latitude]="step.lat"
                    [longitude]="step.lng"
                    [markerDraggable]="true"
                    (dragEnd)="markerDragEnd($event, step)"></agm-marker>
      </agm-map>
    </div>
  </div>
  <p data-content="create-tour">
    <button class="btn-L confirmation"
            [disabled]="!validData()"
            (click)="createTour()">Create tour</button>
  </p>
</div>

<app-modal-window id="stepRemovePopup">
  <p>Are you really sure you want to delete this step?</p>
  <p>
    <button (click)="confirmRemove()">Remove</button>
    <button (click)="closeModal()">Cancel</button>
  </p>
</app-modal-window>
